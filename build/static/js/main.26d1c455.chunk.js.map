{"version":3,"sources":["Filter.js","Persons.js","PersonForm.js","services/book.js","Notification.js","Errorinfo.js","App.js","index.js"],"names":["Filter","props","react_default","a","createElement","value","rajaus","onChange","handleFilter","Persons","filteritem","person","name","toLowerCase","_limit","limit","includes","persons","filter","map","nimi","index","key","number","onClick","e","removename","PersonForm","onSubmit","data","addName","newName","handleNameChange","newNumber","handleNewNumber","type","baseUrl","book","axios","get","then","response","newObject","post","id","put","concat","delete","Notification","_ref","message","className","Errorinfo","App","_useState","useState","_useState2","Object","slicedToArray","setPersons","_useState3","_useState4","setNewName","_useState5","_useState6","setNewNumber","_useState7","_useState8","setLimit","_useState9","_useState10","infoMessage","setInfoMessage","_useState11","_useState12","errorMessage","setErrorMessage","useEffect","console","log","luettelo","formObject","event","target","bind","preventDefault","found","find","undefined","window","confirm","objectSpread","catch","error","setTimeout","n","returnitem","src_Notification","src_Errorinfo","src_Filter","src_PersonForm","src_Persons","param","paluu","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.26d1c455.chunk.js","sourcesContent":["import React from 'react'\n\nconst Filter = (props) => {\n\n    return (\n        <div>rajaa näytettäviä <input \n            value={props.rajaus}\n            onChange={props.handleFilter}\n          />\n        </div>\n        )\n    }\n\n    export default Filter","import React from 'react'\n\nconst Persons = (props) => {\n    const rows = () => props.persons.filter(filteritem)\n    .map((nimi, index)=><li key={index}>{nimi.name}  {nimi.number}  \n                        <button onClick={(e) => \n                        props.removename(e, nimi)}>\n\t\t\t\t        <span>Poista</span>\n\t\t\t            </button>\n                        </li>)\n\n    function filteritem(person){\n        const name = person.name.toLowerCase()\n        const _limit = props.limit.toLowerCase()\n        if(name.includes(_limit)){\n            return true\n        }else{\n            return false\n        }\n    }    \n    return (\n        <ul>\n            {rows()}\n        </ul>\n        )\n}\n\nexport default Persons","import React from 'react'\n\nconst PersonForm = (props) => {\nreturn (\n    <form onSubmit={props.data.addName}>      \n        <div>nimi: \n            <input\n            value={props.data.newName}\n            onChange={props.data.handleNameChange}\n            />\n        </div>\n        <div>numero: \n            <input\n            value={props.data.newNumber}\n            onChange={props.data.handleNewNumber}\n            />\n        </div>\n        <div>\n            <button type=\"submit\">lisää</button>\n        </div>\n    </form>\n    )\n\n}\nexport default PersonForm","import axios from 'axios'\n//const baseUrl = 'http://localhost:3001/api/persons'\nconst baseUrl = '/api/persons'\nconst getAll = () => {\n    const request = axios.get(baseUrl)\n    return request.then(response => response.data)\n}\n\nconst create = newObject => {\n    const request = axios.post(baseUrl, newObject)\n    return request.then(response => response.data)\n}\n\nconst update = (id, newObject) => {\n    const request = axios.put(`${baseUrl}/${id}`, newObject)\n    return request.then(response => response.data)\n}\n\nconst remove = (id) => {\n    const request = axios.delete(`${baseUrl}/${id}`)\n    return request.then(response => response.data)\n}\n\nexport default { \n  getAll: getAll, \n  create: create, \n  update: update,\n  remove: remove \n}","import React from 'react'\n\nconst Notification = ({ message }) => {\n  if (message === null) {\n    return null\n  }\n\n  return (\n    <div className=\"info\">\n      {message}\n    </div>\n  )\n}\n\nexport default Notification","import React from 'react'\n\nconst Errorinfo = ({ message }) => {\n  if (message === null) {\n    return null\n  }\n\n  return (\n    <div className=\"error\">\n      {message}\n    </div>\n  )\n}\n\nexport default Errorinfo","import React, { useState, useEffect } from 'react'\nimport axios from 'axios'\nimport Filter from './Filter'\nimport Persons from './Persons'\nimport PersonForm from './PersonForm'\nimport luettelo from './services/book'\nimport Notification from './Notification'\nimport Errorinfo from './Errorinfo'\n\nconst App = () => {\n  const [ persons, setPersons] = useState([]) \n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n  const [ limit, setLimit ] = useState('')\n  const [infoMessage, setInfoMessage] = useState(null)\n  const [errorMessage, setErrorMessage] = useState(null)\n\n  const hook = () => {\n    console.log('effect')\n    luettelo.getAll()\n      .then(response => {\n        setPersons(response)\n      })\n  }\n  \n  useEffect(hook, [])\n\n  const handleNameChange = (event) => {\n    console.log(event.target.value)\n    setNewName(event.target.value)\n  }\n\n  const handleNewNumber = (event) => {\n    setNewNumber(event.target.value)\n  }\n\n  const handleFilter = (event) => {\n    setLimit(event.target.value)\n  }\n\n  const showMessage = (message) =>{\n    setInfoMessage(\n      message\n    )\n    setTimeout(() => {\n      setInfoMessage(null)\n    }, 5000)\n  }\n\n  const showErrorMessage = (message) =>{\n    setErrorMessage(\n      message\n    )\n    setTimeout(() => {\n      setErrorMessage(null)\n    }, 5000)\n  }\n\n  const removeName = (event,param) => {\n    event.preventDefault()\n    console.log(param)\n    if(window.confirm('Poistetaanko ' + param.name + ' ?')){\n      const paluu = luettelo.remove(param.id)\n      console.log(paluu)\n      setPersons(persons.filter(person => person.id !== param.id))\n    }\n    \n  }\n\n  const addName = (event) => {\n    event.preventDefault()\n    var found = persons.find(function(person){\n      return person.name === newName;\n    })\n\n    if(found !== undefined){\n      if(window.confirm(`${newName} on jo luettelossa, korvataanko vanha numero uudella?`)){\n        luettelo.update(found.id,{...found, number:newNumber})\n        .then(\n          setPersons(persons.map(person => person.id !== found.id ? person : {...found, number:newNumber}))\n        )\n        .catch(error => {\n          showErrorMessage(\n            `Kontakti ${newName} on jo valitettavasti poistettu palvelimelta`\n          )\n          setPersons(persons.filter(n => n.id !== found.id))\n          setNewName('')\n          setNewNumber('')\n        })\n       \n      }\n    }else{\n      luettelo.create({name: newName, number: newNumber})\n      .then(returnitem => {\n        setPersons(persons.concat(returnitem))\n        showMessage(\"Lisättiin \" + newName)\n        setNewName('')\n        setNewNumber('')\n      })\n\n    }\n  }\n\n  const formObject = {\n    newName: newName,\n    newNumber: newNumber,\n    handleNameChange: handleNameChange.bind(this),\n    handleNewNumber: handleNewNumber.bind(this),\n    addName: addName.bind(this),\n  }\n\n  return (\n    <div>\n      <h2>Puhelinluettelo</h2>\n      <Notification message={infoMessage} />\n      <Errorinfo message={errorMessage} />\n      <Filter rajaus={limit} handleFilter={handleFilter.bind(this)}/>\n      <h3>Lisää uusi</h3>\n      <PersonForm data={formObject}/>\n      <h2>Numerot</h2>\n      <Persons persons={persons} limit={limit} removename={removeName.bind(this)}/>\n    </div>\n  )\n\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport App from './App';\nimport './index.css'\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}