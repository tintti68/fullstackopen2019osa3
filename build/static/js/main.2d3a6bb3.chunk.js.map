{"version":3,"sources":["Filter.js","Persons.js","PersonForm.js","services/book.js","Notification.js","Errorinfo.js","App.js","index.js"],"names":["Filter","props","react_default","a","createElement","value","rajaus","onChange","handleFilter","Persons","filteritem","person","name","toLowerCase","_limit","limit","includes","persons","filter","map","nimi","index","key","number","onClick","e","removename","PersonForm","onSubmit","data","addName","newName","handleNameChange","newNumber","handleNewNumber","type","baseUrl","book","axios","get","then","response","newObject","post","id","put","concat","delete","Notification","_ref","message","className","Errorinfo","App","_useState","useState","_useState2","Object","slicedToArray","setPersons","_useState3","_useState4","setNewName","_useState5","_useState6","setNewNumber","_useState7","_useState8","setLimit","_useState9","_useState10","infoMessage","setInfoMessage","_useState11","_useState12","errorMessage","setErrorMessage","useEffect","console","log","luettelo","showErrorMessage","setTimeout","formObject","event","target","bind","preventDefault","found","find","undefined","window","confirm","objectSpread","catch","error","n","returnitem","src_Notification","src_Errorinfo","src_Filter","src_PersonForm","src_Persons","param","paluu","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.2d3a6bb3.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst Filter = (props) => {\r\n\r\n    return (\r\n        <div>rajaa näytettäviä <input \r\n            value={props.rajaus}\r\n            onChange={props.handleFilter}\r\n          />\r\n        </div>\r\n        )\r\n    }\r\n\r\n    export default Filter","import React from 'react'\r\n\r\nconst Persons = (props) => {\r\n    const rows = () => props.persons.filter(filteritem)\r\n    .map((nimi, index)=><li key={index}>{nimi.name}  {nimi.number}  \r\n                        <button onClick={(e) => \r\n                        props.removename(e, nimi)}>\r\n\t\t\t\t        <span>Poista</span>\r\n\t\t\t            </button>\r\n                        </li>)\r\n\r\n    function filteritem(person){\r\n        const name = person.name.toLowerCase()\r\n        const _limit = props.limit.toLowerCase()\r\n        if(name.includes(_limit)){\r\n            return true\r\n        }else{\r\n            return false\r\n        }\r\n    }    \r\n    return (\r\n        <ul>\r\n            {rows()}\r\n        </ul>\r\n        )\r\n}\r\n\r\nexport default Persons","import React from 'react'\r\n\r\nconst PersonForm = (props) => {\r\nreturn (\r\n    <form onSubmit={props.data.addName}>      \r\n        <div>nimi: \r\n            <input\r\n            value={props.data.newName}\r\n            onChange={props.data.handleNameChange}\r\n            />\r\n        </div>\r\n        <div>numero: \r\n            <input\r\n            value={props.data.newNumber}\r\n            onChange={props.data.handleNewNumber}\r\n            />\r\n        </div>\r\n        <div>\r\n            <button type=\"submit\">lisää</button>\r\n        </div>\r\n    </form>\r\n    )\r\n\r\n}\r\nexport default PersonForm","import axios from 'axios'\r\n//const baseUrl = 'http://localhost:3001/api/persons'\r\nconst baseUrl = '/api/persons'\r\nconst getAll = () => {\r\n    const request = axios.get(baseUrl)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst create = newObject => {\r\n    const request = axios.post(baseUrl, newObject)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n    const request = axios.put(`${baseUrl}/${id}`, newObject)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst remove = (id) => {\r\n    const request = axios.delete(`${baseUrl}/${id}`)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nexport default { \r\n  getAll: getAll, \r\n  create: create, \r\n  update: update,\r\n  remove: remove \r\n}","import React from 'react'\r\n\r\nconst Notification = ({ message }) => {\r\n  if (message === null) {\r\n    return null\r\n  }\r\n\r\n  return (\r\n    <div className=\"info\">\r\n      {message}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Notification","import React from 'react'\r\n\r\nconst Errorinfo = ({ message }) => {\r\n  if (message === null) {\r\n    return null\r\n  }\r\n\r\n  return (\r\n    <div className=\"error\">\r\n      {message}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Errorinfo","import React, { useState, useEffect } from 'react'\r\nimport axios from 'axios'\r\nimport Filter from './Filter'\r\nimport Persons from './Persons'\r\nimport PersonForm from './PersonForm'\r\nimport luettelo from './services/book'\r\nimport Notification from './Notification'\r\nimport Errorinfo from './Errorinfo'\r\n\r\nconst App = () => {\r\n  const [ persons, setPersons] = useState([]) \r\n  const [ newName, setNewName ] = useState('')\r\n  const [ newNumber, setNewNumber ] = useState('')\r\n  const [ limit, setLimit ] = useState('')\r\n  const [infoMessage, setInfoMessage] = useState(null)\r\n  const [errorMessage, setErrorMessage] = useState(null)\r\n\r\n  const hook = () => {\r\n    console.log('effect')\r\n    luettelo.getAll()\r\n      .then(response => {\r\n        setPersons(response)\r\n      })\r\n  }\r\n  \r\n  useEffect(hook, [])\r\n\r\n  const handleNameChange = (event) => {\r\n    console.log(event.target.value)\r\n    setNewName(event.target.value)\r\n  }\r\n\r\n  const handleNewNumber = (event) => {\r\n    setNewNumber(event.target.value)\r\n  }\r\n\r\n  const handleFilter = (event) => {\r\n    setLimit(event.target.value)\r\n  }\r\n\r\n  const showMessage = (message) =>{\r\n    setInfoMessage(\r\n      message\r\n    )\r\n    setTimeout(() => {\r\n      setInfoMessage(null)\r\n    }, 5000)\r\n  }\r\n\r\n  const showErrorMessage = (message) =>{\r\n    setErrorMessage(\r\n      message\r\n    )\r\n    setTimeout(() => {\r\n      setErrorMessage(null)\r\n    }, 5000)\r\n  }\r\n\r\n  const removeName = (event,param) => {\r\n    event.preventDefault()\r\n    console.log(param)\r\n    if(window.confirm('Poistetaanko ' + param.name + ' ?')){\r\n      const paluu = luettelo.remove(param.id)\r\n      console.log(paluu)\r\n      setPersons(persons.filter(person => person.id !== param.id))\r\n    }\r\n    \r\n  }\r\n\r\n  const addName = (event) => {\r\n    event.preventDefault()\r\n    var found = persons.find(function(person){\r\n      return person.name === newName;\r\n    })\r\n\r\n    if(found !== undefined){\r\n      if(window.confirm(`${newName} on jo luettelossa, korvataanko vanha numero uudella?`)){\r\n        luettelo.update(found.id,{...found, number:newNumber})\r\n        .then(\r\n          setPersons(persons.map(person => person.id !== found.id ? person : {...found, number:newNumber}))\r\n        )\r\n        .catch(error => {\r\n          showErrorMessage(\r\n            `Kontakti ${newName} on jo valitettavasti poistettu palvelimelta`\r\n          )\r\n          setPersons(persons.filter(n => n.id !== found.id))\r\n          setNewName('')\r\n          setNewNumber('')\r\n        })\r\n       \r\n      }\r\n    }else{\r\n      luettelo.create({name: newName, number: newNumber})\r\n      .then(returnitem => {\r\n        setPersons(persons.concat(returnitem))\r\n        showMessage(\"Lisättiin \" + newName)\r\n        setNewName('')\r\n        setNewNumber('')\r\n      })\r\n      .catch(error => {\r\n        showErrorMessage(error.response.data.error)\r\n      })\r\n\r\n    }\r\n  }\r\n\r\n  const formObject = {\r\n    newName: newName,\r\n    newNumber: newNumber,\r\n    handleNameChange: handleNameChange.bind(this),\r\n    handleNewNumber: handleNewNumber.bind(this),\r\n    addName: addName.bind(this),\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <h2>Puhelinluettelo</h2>\r\n      <Notification message={infoMessage} />\r\n      <Errorinfo message={errorMessage} />\r\n      <Filter rajaus={limit} handleFilter={handleFilter.bind(this)}/>\r\n      <h3>Lisää uusi</h3>\r\n      <PersonForm data={formObject}/>\r\n      <h2>Numerot</h2>\r\n      <Persons persons={persons} limit={limit} removename={removeName.bind(this)}/>\r\n    </div>\r\n  )\r\n\r\n}\r\n\r\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport App from './App';\nimport './index.css'\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}